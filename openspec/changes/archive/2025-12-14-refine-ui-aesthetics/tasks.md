# 任务列表：UI审美优化

## 任务

### T1: 建立CSS变量系统
- **文件**: `static/style.css`
- **内容**:
  - 定义亮色模式CSS变量（`:root` 或 `[data-theme="light"]`）
  - 定义暗色模式CSS变量（`[data-theme="dark"]`）
  - 包含背景色、文字色、边框色、强调色等
- **状态**: ✅ 已完成
- **依赖**: 无

### T2: 重构页面背景和容器样式
- **文件**: `static/style.css`
- **内容**:
  - body背景使用 `var(--bg-primary)`
  - 容器背景使用 `var(--bg-secondary)`
  - 阴影调整为适配两种模式
- **状态**: ✅ 已完成
- **依赖**: T1

### T3: 重设计header区域
- **文件**: `static/style.css`, `static/index.html`
- **内容**:
  - header使用CSS变量配色
  - 移除标题emoji
  - 添加主题切换按钮（header右侧）
  - 添加底部分隔线
- **状态**: ✅ 已完成
- **依赖**: T1

### T4: 优化翻译方向下拉菜单
- **文件**: `static/style.css`, `static/index.html`
- **内容**:
  - 移除选项中的emoji
  - 使用CSS变量配色
  - 下拉箭头SVG颜色适配主题
- **状态**: ✅ 已完成
- **依赖**: T1

### T5: 重设计翻译按钮
- **文件**: `static/style.css`
- **内容**:
  - 使用 `var(--accent)` 作为背景色
  - hover使用 `var(--accent-hover)`
  - 保持loading动画，颜色适配
- **状态**: ✅ 已完成
- **依赖**: T1

### T6: 优化复制按钮样式
- **文件**: `static/style.css`, `static/index.html`, `static/app.js`
- **内容**:
  - 移除HTML和JS中的emoji
  - 使用CSS变量配色
  - 成功状态保持绿色
- **状态**: ✅ 已完成
- **依赖**: T1

### T7: 调整输出区域样式
- **文件**: `static/style.css`
- **内容**:
  - 输出区域背景使用CSS变量
  - 打字光标颜色适配主题
  - blockquote、代码块样式适配
  - 意图识别元数据区域适配
- **状态**: ✅ 已完成
- **依赖**: T1

### T8: 清理JS中的emoji并添加主题切换逻辑
- **文件**: `static/app.js`
- **内容**:
  - 移除智能识别标签emoji
  - 移除复制按钮emoji
  - 移除错误提示emoji
  - 添加主题初始化函数（读取localStorage或系统偏好）
  - 添加主题切换函数
  - 绑定切换按钮事件
- **状态**: ✅ 已完成
- **依赖**: T3

### T9: 优化footer样式
- **文件**: `static/style.css`
- **内容**:
  - 使用CSS变量配色
- **状态**: ✅ 已完成
- **依赖**: T1

### T10: 输入区域样式适配
- **文件**: `static/style.css`
- **内容**:
  - textarea背景、边框、文字色使用CSS变量
  - placeholder颜色适配
  - 字符计数颜色适配
- **状态**: ✅ 已完成
- **依赖**: T1

### T11: 视觉验收测试
- **内容**:
  - 亮色模式下检查所有组件颜色
  - 暗色模式下检查所有组件颜色
  - 确认无残留emoji
  - 测试主题切换功能
  - 测试主题持久化（刷新页面）
  - 测试系统偏好跟随
  - 检查移动端适配
- **状态**: ✅ 已完成（32个测试通过，无emoji残留）
- **依赖**: T1-T10

## 依赖关系

```
T1 (CSS变量系统) ─────────────────────────────┐
 ├── T2 (背景容器)                             │
 ├── T3 (header + 切换按钮) ──→ T8 (JS主题逻辑) │
 ├── T4 (下拉菜单)                             │
 ├── T5 (翻译按钮)                             │
 ├── T6 (复制按钮)                             │
 ├── T7 (输出区域)                             │
 ├── T9 (footer)                              │
 └── T10 (输入区域)                            │
                                              ↓
                                    T11 (验收测试)
```

## 验证方式

1. 启动服务 `uv run python src/main.py`
2. 访问 http://localhost:8000
3. 检查默认主题（应跟随系统）
4. 点击切换按钮，验证主题切换
5. 刷新页面，验证主题持久化
6. 测试翻译功能确保正常
7. 在两种模式下检查所有UI元素

## 完成情况

所有任务已完成：
- ✅ 32个后端测试全部通过
- ✅ 无emoji残留
- ✅ CSS变量系统实现亮/暗双主题
- ✅ 主题切换按钮功能正常
- ✅ localStorage持久化主题选择
- ✅ 跟随系统偏好（prefers-color-scheme）
